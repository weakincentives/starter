# Debug Bundles

This directory stores debug bundles generated by the trivia agent during execution.

## What are Debug Bundles?

Debug bundles are self-contained execution artifacts that capture everything needed to understand and reproduce an agent session:

- Session state and conversation history
- Filesystem snapshots (workspace contents)
- Logs and traces
- Metrics and timing information
- Request/response payloads

## Enabling Debug Bundles

Set the `TRIVIA_DEBUG_BUNDLES_DIR` environment variable to this directory:

```bash
export TRIVIA_DEBUG_BUNDLES_DIR=$(pwd)/debug_bundles
```

Or use the Makefile target which sets this automatically:

```bash
make agent
```

## Inspecting Bundles

Debug bundles are saved as `.zip` files. Use the WINK CLI to inspect them:

```bash
wink debug inspect debug_bundles/<bundle-name>.zip
```

Or extract manually:

```bash
unzip debug_bundles/<bundle-name>.zip -d /tmp/bundle
```

## File Structure

Each bundle contains:

```
<bundle>.zip
├── session.json      # Session state and metadata
├── conversation.json # Full conversation history
├── workspace/        # Filesystem snapshot
├── logs/             # Execution logs
└── metrics.json      # Timing and performance data
```

## Cleanup

Bundle files are excluded from git. To clean up old bundles:

```bash
make clean-bundles
```
